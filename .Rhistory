eqn  <- escape_tex(as.character(r$equation))
reg0 <- prettify_regressor(as.character(r$regressor))
reg  <- escape_tex(reg0)
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates)')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
tex_lines <- c(tex_lines, paste0('\\multicolumn{8}{l}{\\textbf{', escape_tex(m), '}} \\\\'))
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
eqn  <- escape_tex(as.character(r$equation))
reg0 <- prettify_regressor(as.character(r$regressor))
reg  <- escape_tex(reg0)
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates)')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
tex_lines <- c(tex_lines, paste0('\\multicolumn{8}{l}{\\textbf{', escape_tex(m), '}} \\\\'))
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
eqn  <- escape_tex(as.character(r$equation))
# use raw regressor name but escape TeX special characters
reg  <- escape_tex(as.character(r$regressor))
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates)')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
# grouped by equation, but do not print an explicit equation header row
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
eqn  <- escape_tex(as.character(r$equation))
# use raw regressor name but escape TeX special characters
reg  <- escape_tex(as.character(r$regressor))
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
# begin condensed table fragment: smaller font, reduced spacing, and auto-scale to text width
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '{\\setlength{\\tabcolsep}{4pt}\\renewcommand{\\arraystretch}{0.9}\\scriptsize\\begin{adjustbox}{max width=\\textwidth}')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates}')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
# grouped by equation, but do not print an explicit equation header row
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
# show equation name only on the first row for this equation, else blank
eqn  <- if (i == 1) escape_tex(as.character(r$equation)) else ''
# use raw regressor name but escape TeX special characters
reg  <- escape_tex(as.character(r$regressor))
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{adjustbox}}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
# begin condensed table fragment: smaller font, reduced spacing, and auto-scale to text width
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates}')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '{\\setlength{\\tabcolsep}{4pt}\\renewcommand{\\arraystretch}{0.9}\\scriptsize\\begin{adjustbox}{max width=\\textwidth}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
# grouped by equation, but do not print an explicit equation header row
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
# show equation name only on the first row for this equation, else blank
eqn  <- if (i == 1) escape_tex(as.character(r$equation)) else ''
# use raw regressor name but escape TeX special characters
reg  <- escape_tex(as.character(r$regressor))
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{adjustbox}}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
## Write a plain LaTeX fragment (Rmd child will include raw LaTeX)
tex_lines <- c()
# begin condensed table fragment: smaller font, reduced spacing, and auto-scale to text width
tex_lines <- c(tex_lines, '\\begin{table}[ht]')
tex_lines <- c(tex_lines, '\\centering')
tex_lines <- c(tex_lines, '\\caption{Bayesian VAR Posterior Estimates}')
tex_lines <- c(tex_lines, '\\label{tab:bvar_coef_post}')
tex_lines <- c(tex_lines, '{\\setlength{\\tabcolsep}{5pt}\\renewcommand{\\arraystretch}{0.95}\\small\\begin{adjustbox}{max width=\\textwidth}')
tex_lines <- c(tex_lines, '\\begin{tabular}{lllrrrrr}')
tex_lines <- c(tex_lines, '\\hline')
tex_lines <- c(tex_lines, 'Equation & Regressor & Mean & Median & SD & 2.5\\% & 97.5\\% & Pr($>$0) \\\\')
tex_lines <- c(tex_lines, '\\hline')
# robust LaTeX escaping
escape_tex <- function(s) {
if (is.null(s)) return(s)
s <- as.character(s)
s <- gsub('\\\\', '\\\\\\\\', s)   # backslash
s <- gsub('\\$', '\\\\$', s)
s <- gsub('%', '\\\\%', s)
s <- gsub('&', '\\\\&', s)
s <- gsub('#', '\\\\#', s)
s <- gsub('_', '\\\\_', s)
s <- gsub('\\{', '\\\\{', s)
s <- gsub('\\}', '\\\\}', s)
s <- gsub('\\^', '\\\\^', s)
s <- gsub('~', '\\\\textasciitilde{}', s)
s
}
# prettify regressor names like 'ggdp_lag1' -> 'ggdp (lag 1)'
prettify_regressor <- function(s) {
s0 <- as.character(s)
if (tolower(s0) %in% c('const','intercept')) return('Intercept')
m <- regexpr('^(.*)_lag(\\d+)$', s0, perl = TRUE)
if (m[1] != -1) {
varname <- sub('^(.*)_lag(\\d+)$', '\\1', s0, perl = TRUE)
lagnum  <- sub('^(.*)_lag(\\d+)$', '\\2', s0, perl = TRUE)
out <- paste0(varname, ' (lag ', lagnum, ')')
} else {
out <- gsub('_', ' ', s0)
}
out
}
for (m in unique(coef_summary$equation)) {
# grouped by equation, but do not print an explicit equation header row
subset_m <- coef_summary[coef_summary$equation == m, ]
for (i in seq_len(nrow(subset_m))) {
r <- subset_m[i, ]
# show equation name only on the first row for this equation, else blank
eqn  <- if (i == 1) escape_tex(as.character(r$equation)) else ''
# use raw regressor name but escape TeX special characters
reg  <- escape_tex(as.character(r$regressor))
tex_lines <- c(tex_lines, sprintf('%s & %s & %.4f & %.4f & %.4f & %.4f & %.4f & %.3f \\\\',
eqn, reg, r$mean, r$median, r$sd, r$q025, r$q975, r$Pr_pos))
}
tex_lines <- c(tex_lines, '\\hline')
}
tex_lines <- c(tex_lines, '\\end{tabular}')
tex_lines <- c(tex_lines, '\\end{adjustbox}}')
tex_lines <- c(tex_lines, '\\end{table}')
writeLines(tex_lines, con = 'output/bvar_coef_posterior_table.Rmd')
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
png("output/plot_irf.png", width = 12, height = 12, units = "in", res = 300)
par(
mfrow = c(k, k),
mar   = c(1.5, 2.2, 1.8, 0.5),   # smaller inner margins
oma   = c(8, 9, 4, 2),           # more space bottom & left
mgp   = c(1.4, 0.35, 0),         # axis label spacing
xpd   = FALSE                    # clip everything inside each panel
)
for (i in vars) {
for (j in vars) {
mat <- irf95$irf[[i]]
low <- irf95$Lower[[i]]
up  <- irf95$Upper[[i]]
if (is.null(dim(mat))) {
y <- mat; lower <- low; upper <- up
} else {
y <- mat[, j]; lower <- low[, j]; upper <- up[, j]
}
x <- seq_along(y)
ylim <- range(y, lower, upper, na.rm = TRUE)
plot(x, y, type = "l", lwd = 1.5, ylim = ylim,
main = paste("coeff on", var_labels[j]), cex.main = 1.5, font.main = 2,
xlab = "", ylab = "", axes = FALSE, xaxs = "i", yaxs = "i")
lines(x, lower, lty = 3); lines(x, upper, lty = 3); abline(h = 0, col = "gray")
box()
if (j == vars[1])
mtext(side = 2, text = paste("pred", var_labels[i]), font = 2, line = 1, cex = 1.1, las = 1)  # needs mar[2] big enough
}
}
# mtext("Reduced-form Impulse Response Functions", side = 3, outer = TRUE, line = 1, cex = 1.5, font = 2)
dev.off()
png_irf <- image_read("output/plot_irf.png")
image_write(image_trim(png_irf), path = "output/plot_irf.png", format = "png")
if (!exists("p")) p <- 1
Tfull <- nrow(X)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
png("output/plot_irf.png", width = 11, height = 9, units = "in", res = 300)
par(
mfrow = c(k, k),
mar   = c(1.5, 2.2, 1.8, 0.5),   # smaller inner margins
oma   = c(8, 9, 4, 2),           # more space bottom & left
mgp   = c(1.4, 0.35, 0),         # axis label spacing
xpd   = FALSE                    # clip everything inside each panel
)
for (i in vars) {
for (j in vars) {
mat <- irf95$irf[[i]]
low <- irf95$Lower[[i]]
up  <- irf95$Upper[[i]]
if (is.null(dim(mat))) {
y <- mat; lower <- low; upper <- up
} else {
y <- mat[, j]; lower <- low[, j]; upper <- up[, j]
}
x <- seq_along(y)
ylim <- range(y, lower, upper, na.rm = TRUE)
plot(x, y, type = "l", lwd = 1.5, ylim = ylim,
main = paste("coeff on", var_labels[j]), cex.main = 1.5, font.main = 2,
xlab = "", ylab = "", axes = FALSE, xaxs = "i", yaxs = "i")
lines(x, lower, lty = 3); lines(x, upper, lty = 3); abline(h = 0, col = "gray")
box()
if (j == vars[1])
mtext(side = 2, text = paste("pred", var_labels[i]), font = 2, line = 1, cex = 1.1, las = 1)  # needs mar[2] big enough
}
}
# mtext("Reduced-form Impulse Response Functions", side = 3, outer = TRUE, line = 1, cex = 1.5, font = 2)
dev.off()
png_irf <- image_read("output/plot_irf.png")
image_write(image_trim(png_irf), path = "output/plot_irf.png", format = "png")
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
rmarkdown::render(
"/Users/charleneramos/Documents/Git/econ220dproject/code/data_description.Rmd",
output_format = "pdf_document",
output_dir = "/Users/charleneramos/Documents/Git/econ220dproject/output/"
)
